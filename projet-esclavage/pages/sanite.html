<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="https://use.typekit.net/ivb6ffg.css" />
    <title>L'abolition de l'esclavage</title>
    <style>
      @font-face {
        font-family: "Brother1816";
        src: url("./font/07-brother1816-regular.otf") format("opentype"); /* Mettez à jour le chemin vers votre fichier .otf */
        font-weight: normal;
        font-style: normal;
      }
      @font-face {
        font-family: "icomoon", sans-serif;
        src: url("./font/icomoon/icomoon.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
      }
      /* Styles généraux */
      body {
        margin: 0;
        padding: 0;
        background-color: #fff4d1;
        background-image: url("../images/Dutty-Bookman.jpg");
        background-attachment: fixed;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        color: #fff;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        width: 100%;
        text-align: center;
        overflow-y: hidden;
        opacity: 0.9;
      }
      body::after {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1; /* Placer derrière le contenu */
        background-color: #979696;
        opacity: 0.5; /* Ajuster l'opacité pour le fond */
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: transparent;
        position: fixed;
        top: 30px;
        width: 90%;
        z-index: 10;
      }

      header .logo img {
        height: 100px; /* Taille du logo */
      }

      header nav ul {
        list-style: none;
        display: flex;
      }

      header nav ul li {
        margin-left: 20px;
      }

      header nav ul li a {
        text-decoration: none;
        color: #281212;
        font-weight: bold;
      }
      .title {
        width: 100%; /* Prendre toute la largeur disponible */
        background-color: #281212;
        padding: 0; /* Supprimer le padding */
        margin: 0; /* Supprimer les marges */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .title h2 {
        text-align: center;
        font-size: 3.5rem;
        margin: 10px 0;
        color: #fff;
        font-family: "brother-1816", sans-serif;
        font-style: normal;
        line-height: 1.5;
      }
      .title p {
        text-align: center;
        font-size: 1.2rem;
        margin: 20px 0;
        color: #fff;
        font-family: "icomoon", sans-serif;
        font-style: normal;
        font-weight: 200;
        line-height: 1.5;
        width: 100%;
        max-width: 1200px;
        letter-spacing: O.03em;
      }
      .container {
        width: 100%; /* S'assurer que le conteneur occupe toute la largeur */
        margin-top: 40px;
        padding: 0; /* Supprimer toute marge interne */
        justify-content: center;
        align-items: center;
        display: flex;
        flex-direction: column;
        position: relative; /* Pour le positionnement absolu des éléments enfants */
        padding-bottom: 0px; /* Pour éviter que le contenu ne soit masqué par le header */
      }

      /* Main content container */
      .gallery {
        margin: 20px 80px;
        width: 100%;
        max-width: 1400px;
      }

      /* Title */
      .gallery h1 {
        font-size: 2.5em;
        color: white;
        margin-bottom: 10px;
      }

      .gallery h2 {
        font-size: 1.5em;
        margin-bottom: 20px;
      }

      .flex-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 40px;
      }

      .timeline-container {
        position: relative;
        width: 100%;
        padding: 20px 0;
        max-width: 1500px;
        overflow: hidden;
      }

      .timeline {
        display: flex;
        justify-content: center;
        position: relative;
        width: 100%;
        max-width: 1600px;
        font-family: "icomoon", sans-serif;
        font-style: normal;
        font-size: 0.9rem;
      }

      .timeline-item {
        display: inline-block;
        text-align: center;
        padding: 1rem 2rem;
        color: #281212;
        text-decoration: none;
        position: relative;
        z-index: 2;
      }

      .timeline-item.active {
        color: #281212;
        font-family: "icomoon", sans-serif;
        font-style: normal;
        font-weight: 700;
        font-size: 0.9rem;
      }

      .timeline-load {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 4px;
        background-color: #fff3;
        width: 0%;
        transition: width 0.5s ease-in-out;
      }

      .progress-bar {
        position: absolute;
        bottom: -5px; /* Position juste en dessous de la barre de timeline */
        left: 0;
        width: 100%;
        height: 4px;
        background-color: #281212;
        overflow: hidden;
        border-radius: 24px;
      }

      .progress-bar-inner {
        background-color: #ff5d15;
        height: 100%;
        width: 0%;
        transition: width 2s ease-in-out;
      }

      .progress-bar-inner-after {
        background-color: #ff5d15;
        height: 100%;
        width: 0%;
      }

      .timeline-item.active .timeline-load {
        width: 50%;
      }

      .timeline a {
        display: inline-block;
        margin: 0 10px;
        transition: color 0.3s ease-in-out;
      }

      .timeline a:hover {
      }

      .container {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .container-section {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        position: relative;
        width: 100%;
        max-width: 1200px;
        height: 600px;
        background-color: #bbab8f;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
      .parti-left {
        flex: 1;
        text-align: center;
        width: 100%;
        max-width: 400px;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        z-index: 1;
      }
      .parti-left img {
        width: 280px;
        height: 320px;
        object-fit: cover;
        border: 2px solid #281212;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        border-radius: 50%;
      }
      .parti-right {
        flex: 1;
        padding: 20px;
        text-align: left;
      }
      .parti-right h1 {
        font-size: 2.5rem;
        color: #281212;
        margin-bottom: 10px;
        padding: 0;
        font-family: "brother-1816", sans-serif;
        font-style: normal;
        font-weight: 700;
        line-height: 1.2;
      }
      .parti-right h2 {
        font-size: 1rem;
        font-weight: 300;
        margin-bottom: 20px; /* Ajoute de l'espace sous le titre */
        margin-top: 0px;
        border-bottom: 2px solid #281212; /* Ligne de séparation sous le <h2> */
        padding-bottom: 10px; /* Ajouter un peu d'espace entre le texte et la ligne */
        color: #281212;
        font-family: "icomoon", sans-serif;
        font-style: normal;
        font-weight: 400;
        line-height: 1.5;
      }
      .parti-right p {
        font-size: 1.2rem;
        margin-bottom: 20px;
        color: #281212;
        font-family: "icomoon", sans-serif;
        font-style: normal;
        font-weight: 200;
        line-height: 1.5;
        letter-spacing: 0.03em;
      }
      .btn {
        background-color: #ff5d15;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1.2rem;
        text-decoration: none;
        font-family: "brother-1816", sans-serif;
        font-style: normal;
        font-weight: 400;
        line-height: 1.5;
        letter-spacing: 0.03em;
        transition: background-color 0.3s ease;
      }
      .btn a {
        color: #fff;
        text-decoration: none;
      }
      .btn:hover {
        background-color: #e65c00;
      }
      .btn a:hover {
        color: #fff;
      }
    </style>
  </head>
  <body>
    <section class="timeline-container">
      <div class="timeline">
        <a href="#1971" class="timeline-item" data-year="1971">
          <div>1990s – aujourd’hui</div>
          <div class="timeline-load" id="load-1971"></div>
          <div class="progress-bar" id="progress-1971"></div>
        </a>
        <a href="#1975" class="timeline-item" data-year="1975">
          <div>5e – 15e siècle</div>
          <div class="timeline-load" id="load-1975"></div>
          <div class="progress-bar" id="progress-1975"></div>
        </a>
        <a href="#1976" class="timeline-item" data-year="1976">
          <div>16e – 17e siècle</div>
          <div class="timeline-load" id="load-1976"></div>
          <div class="progress-bar" id="progress-1976"></div>
        </a>
        <a href="#2006" class="timeline-item" data-year="2006">
          <div>1789 – 1802</div>
          <div class="timeline-load" id="load-2006"></div>
          <div class="progress-bar" id="progress-2006"></div>
        </a>
        <a href="#2013" class="timeline-item active" data-year="2013">
          <div>1802 – 1848</div>
          <div class="timeline-load" id="load-2013"></div>
          <div class="progress-bar" id="progress-2013"></div>
        </a>
        <a href="#2018" class="timeline-item" data-year="2018">
          <div>1848 – fin 19e siècle</div>
          <div class="timeline-load" id="load-2018"></div>
          <div class="progress-bar" id="progress-2018"></div>
        </a>
        <a href="#2020" class="timeline-item" data-year="2020">
          <div>mi 20e siècle – 1980s</div>
          <div class="timeline-load" id="load-2020"></div>
          <div class="progress-bar" id="progress-2020"></div>
        </a>
      </div>
    </section>
    <header>
      <div class="logo">
        <a href="../index.html">
          <img src="../images/logo.png" alt="FME Logo" />
        </a>
      </div>
      <nav>
        <ul>
          <li><a href="#">EN</a></li>
          <li><a href="#">FR</a></li>
        </ul>
      </nav>
    </header>
    <section class="container">
      <div class="container-section">
        <div class="parti-left">
          <img src="../images/Dutty-Bookman.jpg" alt="Montre" />
        </div>
        <div class="parti-right">
          <h1>Dutty Bookman</h1>
          <h2>Premier leader de l’insurrection haïtienne</h2>
          <p>
            Figure emblématique et visionnaire, Boukman est reconnu comme le
            premier leader spirituel et l'un des instigateurs clés de
            l'insurrection haïtienne de 1791. Son charisme et ses prêches
            enflammés ont galvanisé les esclaves, marquant le début de la lutte
            pour l'indépendance d'Haïti...
          </p>
          <button class="btn">
            <a href="./parallax/index.html">Explorer</a>
          </button>
        </div>
      </div>
    </section>
    <script>
      let currentIndex = 0; // Sera mis à jour si l'année cible est trouvée
      const items = document.querySelectorAll(".timeline-item");
      const defaultYearToActivate = "2006"; // L'année que vous voulez activer par défaut

      // Trouver l'index de l'élément avec data-year="2006"
      items.forEach((item, index) => {
        if (item.dataset.year === defaultYearToActivate) {
          currentIndex = index;
        }
      });

      function setActive(index) {
        // D'abord, désactiver tous les éléments
        items.forEach((item) => {
          item.classList.remove("active");
          const loadDiv = document.getElementById("load-" + item.dataset.year);
          if (loadDiv) {
            loadDiv.style.width = "0%";
          }
          const progressBar = item.querySelector(".progress-bar-inner");
          if (progressBar) {
            progressBar.style.width = "0%";
          }
        });

        // Ensuite, activer l'élément cible s'il existe
        if (items[index]) {
          items[index].classList.add("active");
          const activeLoadDiv = document.getElementById(
            "load-" + items[index].dataset.year
          );
          if (activeLoadDiv) {
            activeLoadDiv.style.width = "50%";
          }

          const activeProgressBar = items[index].querySelector(
            ".progress-bar-inner"
          );
          if (activeProgressBar) {
            activeProgressBar.style.width = "100%"; // Remplir la barre de progression
          }
        }
      }

      items.forEach((item, index) => {
        item.addEventListener("click", (e) => {
          e.preventDefault();
          currentIndex = index;
          setActive(index);
        });
      });

      // Créer la barre de progression pour chaque année, si elle n'existe pas déjà
      items.forEach((item) => {
        const progressBarContainer = item.querySelector(".progress-bar");
        if (
          progressBarContainer &&
          !progressBarContainer.querySelector(".progress-bar-inner")
        ) {
          const progressBar = document.createElement("div");
          progressBar.classList.add("progress-bar-inner");
          progressBarContainer.appendChild(progressBar);
        }
      });

      // Initialiser avec l'élément actif (qui pourrait être celui avec data-year="2006")
      setActive(currentIndex);
    </script>
  </body>
</html>
